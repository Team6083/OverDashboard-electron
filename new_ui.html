<!doctype html>
<html lang="en">

<head>
    <title>#6083 SmartDashbaord</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
      #speedLCan,
      #speedRCan {
        left: -75px;
        position: relative;
      }
    </style>
    <style>
      .bottom-space {
          height: 200px;
      }
  </style>
  <style>
      .tab-content-container {
          max-height: 300px;
          overflow-y: auto;
          scroll-padding-inline-end: 0px; 
      }
  </style>
  <style>
    .bordered-box {
        position: absolute; 
        border: 2px solid black;
        padding: 40px;
        height: 380px;
    }
  </style>
  <style>
    .custom-card {
        height: 190px; 
    }
</style>
<style>
  .container {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      height: 40vh;
  }
  .top {
      flex: 1;
      background-color: #f0f0f0;
      overflow-y: auto;
      resize: vertical;
      border-bottom: 1px solid #ccc;
      padding: 10px;
  }
  .bottom {
      background-color: #e0e0e0;
      padding: 10px;
  }
  .option {
      margin-bottom: 5px;
  }
</style>


</head>

<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-2">
                <h5 class="mb-0">Robot: <span class="badge badge-pill badge-danger" id="com-stat">No Connection</span>
                </h5>
                <h5 class="mb-0">Mode: <span class="badge badge-pill badge-danger" id="mode-stat">N/A</span></h5>
              </div>
              <div class="col-3">
                Event: <span class="badge badge-pill badge-info" id="event">N/A</span> Station:
                <span class="badge badge-pill badge-info" id="station">N/A</span><br>Match:
                <span class="badge badge-pill badge-info" id="match">N/A</span>
                MatchTime: <span class="badge badge-pill badge-info" id="mtime">N/A</span>
              </div>
              <div class="col-2">
                NT: <span class="badge badge-pill badge-info" id="ntip">N/A</span>
                <br>
                Ping: <span class="badge badge-pill badge-info" id="ptime">N/A</span>
              </div>
              <div class="col-2">
                Battery Voltage
                <div class="progress">
                  <div class="progress-bar bg-danger" role="progressbar" style="width: 50%" id="battV">?? V</div>
                </div>
              </div>
              <div class="col">
                <h6>
                  CurrentPoint:
                  <span class="badge badge-primary" id="autoStage">N/A</span>
                </h6>
                <h6>
                  OngoingPoint:
                  <span class="badge badge-primary" id="ongoingPoint">N/A</span>
                </h6>
                
              </div>
              <div class="col">
                <button onclick="enterFullscreen()">全螢幕</button>
                <button onclick="exitFullscreen()">退出</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
        
    <div class="row mt-2">
      <div class="col-lg-3.7" >
        <div class="card">
          <div class="card-header">
            <ul class="nav nav-tabs card-header-tabs" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" href="#MainT" data-toggle="tab">Main</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#SettingT" data-toggle="tab">Setting</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#PowerT" data-toggle="tab">Power</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#AutoT" data-toggle="tab">Auto</a>
              </li>
            </ul>
          </div>
          <div class="card-body">
            <div class="tab-content tab-content-container">
              <div id="MainT" class="container tab-pane active">
                <h3>Main</h3><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p><p>Main content</p>
              </div>
              <div id="SettingT" class="container tab-pane">
                <h3>Setting</h3><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p><p>Setting content</p>
              </div>
              <div id="PowerT" class="container tab-pane">
                <h3>Power</h3><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p><p>Power content</p>
              </div>
              <div id="AutoT" class="container tab-pane">
                <h3>Auto</h3>
                <div class="container">
                  <div class="top" id="top">
              
                  </div>
                  <div class="bottom">
                    <label><input type="checkbox" class="option" value="Option 1"> Option 1</label><br>
                    <label><input type="checkbox" class="option" value="Option 2"> Option 2</label><br>
                    <label><input type="checkbox" class="option" value="Option 3"> Option 3</label><br>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-5">
          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col">
                  <h5 class="card-title">
                    Limelight
                    <small id="cam1IP">n/a</small>
                  </h5>
                  <span class="badge badge-pill badge-danger" id="camera1">No Connection</span>
                  <div id="cam1"></div>
                </div>
                <div class="col">
                  <h5 class="card-title">
                    Camera2
                    <small id="cam2IP">n/a</small>
                  </h5>
                  <span class="badge badge-pill badge-danger" id="camera2">No Connection</span>
                  <div id="cam2"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      <div class="bordered-box" style="top: 145px; left: 333px; width: 249px;">
        
      </div>
      <div class="bordered-box" style="top: 145px; left: 583px; width: 248px;">
        
      </div>
      <div class="bordered-box" style="top: 145px; left: 833px; width: 415px;">
        <h1>(swerve)</h1>
      </div>
  </div>
  <div class="bottom-space">
  </div>
  <script src="js/renderer.js"></script>
  <script src="networktables/networktables.js"></script>
  <script src="networktables/camera.js"></script>
  <script src="networktables/utils.js"></script>
  <script src="js/ui_6083.js"></script>
  <script src="js/nt_6083.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('keydown', function(event) {
        const activeTab = document.querySelector('.nav-link.active');
        const tabs = document.querySelectorAll('.nav-link');
        let currentIndex = Array.from(tabs).indexOf(activeTab);
        if (event.key === 'ArrowLeft') {
            currentIndex = (currentIndex - 1 + tabs.length) % tabs.length;
        }
        else if (event.key === 'ArrowRight') {
            currentIndex = (currentIndex + 1) % tabs.length;
        }
        tabs.forEach(tab => tab.classList.remove('active'));
        tabs[currentIndex].classList.add('active');
        const tabContents = document.querySelectorAll('.tab-pane');
        tabContents.forEach(tabContent => tabContent.classList.remove('active'));
        const tabContentId = tabs[currentIndex].getAttribute('href');
        document.querySelector(tabContentId).classList.add('active');
        event.preventDefault();
    });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
      const topContainer = document.getElementById('top');
      const currentStepElement = document.getElementById('autoStage');
      const ongoingPointContainer = document.getElementById('ongoingPoint');
      let currentStep = '';
      let selectedOptions = []; // Store the selected options

      const bottomCheckboxes = document.querySelectorAll('.option');

      bottomCheckboxes.forEach((checkbox, index) => {
          checkbox.addEventListener('change', function() {
              if (this.checked) {
                  if (currentStep === '') {
                      currentStep = this.value; // If no current step, set it to this value
                  }
                  const option = document.createElement('div');
                  option.textContent = (index + 1) + ". " + this.value;
                  option.classList.add('option');
                  topContainer.appendChild(option);
                  selectedOptions.push(this.value); // Push the selected option into the array
                  if (selectedOptions.length >= 2) {
                      ongoingPointContainer.textContent = selectedOptions[1]; // Display the second selected option
                  }
              } else {
                  const options = topContainer.querySelectorAll('.option');
                  options.forEach(option => {
                      if (option.textContent.includes(this.value)) {
                          option.remove();
                          // If the removed option was the current step, update current step to the next checked option
                          if (this.value === currentStep) {
                              currentStep = '';
                              for (let i = 0; i < bottomCheckboxes.length; i++) {
                                  if (i !== index && bottomCheckboxes[i].checked) {
                                      currentStep = bottomCheckboxes[i].value;
                                      break;
                                  }
                              }
                          }
                      }
                  });
                  const selectedIndex = selectedOptions.indexOf(this.value);
                  if (selectedIndex !== -1) {
                      selectedOptions.splice(selectedIndex, 1); // Remove the unchecked option from the array
                  }
                  if (selectedOptions.length >= 2) {
                      ongoingPointContainer.textContent = selectedOptions[1]; // Display the second selected option
                  } else {
                      ongoingPointContainer.textContent = ''; // If no second option, clear the display
                  }
              }

              // Update displayed current step
              currentStepElement.textContent = currentStep;
          });
      });
  });
</script>
<script>
  // 进入全屏模式
  function enterFullscreen() {
      var elem = document.documentElement;
      if (elem.requestFullscreen) {
          elem.requestFullscreen();
      } else if (elem.mozRequestFullScreen) { /* Firefox */
          elem.mozRequestFullScreen();
      } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
          elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) { /* IE/Edge */
          elem.msRequestFullscreen();
      }
  }
  
  // 退出全屏模式
  function exitFullscreen() {
      if (document.exitFullscreen) {
          document.exitFullscreen();
      } else if (document.mozCancelFullScreen) { /* Firefox */
          document.mozCancelFullScreen();
      } else if (document.webkitExitFullscreen) { /* Chrome, Safari & Opera */
          document.webkitExitFullscreen();
      } else if (document.msExitFullscreen) { /* IE/Edge */
          document.msExitFullscreen();
      }
  }
</script>
</body>

</html>